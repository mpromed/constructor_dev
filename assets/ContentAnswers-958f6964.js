import R from"./WarningParameters-3e644d2e.js";import{r as U,q as te,a as D,o as i,f,w as o,b as e,c as b,v as c,d as _,F as ne,e as ae,x as oe,k as g,y as le,z as se,A as me,B as W,C as z,T as N,g as ie,D as P,l as ue}from"./index-dc9df043.js";import de from"./ContentImages-7247a6bb.js";import ce from"./ColorItem-f5fccb25.js";import re from"./ActionItem-5f3090fb.js";import F from"./AnswerCollections-20376422.js";import pe from"./AnswersOnImage-7ca74730.js";/* empty css                                                          */const fe={key:0},De={key:0},we={key:0},Ve={key:1},ge={key:0,class:"answer_editor"},Ce={class:"action_edit"},be={key:0},Ie={__name:"ContentAnswers",props:["componentData","blockData"],setup(m){const t=m,O=U(!1),$=U("main"),k=U(t.componentData.answersList.map(s=>!1)),A=U(t.componentData.answersList.map(s=>!1)),I=U(!1),B=s=>{k.value[s]=!k.value[s]},h=s=>{A.value[s]=!A.value[s]},Q=()=>{I.value=!I.value},j=s=>{k.value.splice(s,1),t.componentData.answersList.splice(s,1)},q=s=>{const a=s.id,r=t.componentData.answerCollections,l=r.findIndex(d=>d.id===a);if(l>0){const d=[...r];[d[l],d[l-1]]=[d[l-1],d[l]],t.componentData.answerCollections=d}},E=s=>{const a=s.id,r=t.componentData.answerCollections,l=r.findIndex(d=>d.id===a);if(l<r.length-1){const d=[...r];[d[l],d[l+1]]=[d[l+1],d[l]],t.componentData.answerCollections=d}},G=s=>{if(s===0)return;const a=t.componentData.answersList[s];t.componentData.answersList[s]=t.componentData.answersList[s-1],t.componentData.answersList[s-1]=a},J=s=>{if(s===t.componentData.answersList.length-1)return;const a=t.componentData.answersList[s];t.componentData.answersList[s]=t.componentData.answersList[s+1],t.componentData.answersList[s+1]=a},K=()=>{if(t.componentData.answersList.length===0)return 0;let s=!1;for(let l=0;l<t.componentData.answersList.length;l++)if(!t.componentData.answersList[l].id){s=!0;break}if(s){for(let l=0;l<t.componentData.answersList.length;l++)t.componentData.answersList[l].id=l+1;return t.componentData.answersList.length}const a=t.componentData.answersList.map(l=>l.id);return Math.max(...a)},X=()=>{t.componentData.answersList.push({id:K()+1,answerText:"",isRight:!1,notRequired:!1,image:{imageURL:"",label:""},action:{doAction:!1,clickAction:!1,name:"moveToStep",internalId:0,checkQuestion:!1,trackRepeatAnswer:!1},isRightAlt:!1})},Y=()=>{t.componentData.imagesData==null&&(t.componentData.isAnswersWithImage=!1,t.componentData.isAnswersOnImage=!1,t.componentData.imagesData={imagesWidthPercent:100,imagesList:[{imageURL:"",label:""}]}),t.componentData.textData==null&&(t.componentData.textData={text:""}),t.componentData.markers==null&&(t.componentData.markers=[])};te(()=>{Y()});const H=s=>{t.componentData.answerCollections===void 0&&(t.componentData.answerCollections=[]),t.componentData.answerCollections.push(s)},M=s=>{const a=t.componentData.answerCollections.findIndex(r=>r.id===s);if(a===-1){log("Коллекция с таким id не найдена");return}t.componentData.answerCollections.splice(a,1)};return(s,a)=>{const r=D("el-switch"),l=D("el-form-item"),d=D("el-option"),Z=D("el-select"),y=D("el-divider"),C=D("el-input"),S=D("el-input-number"),u=D("el-col"),v=D("el-row"),L=D("el-text"),T=D("el-checkbox"),V=D("el-button"),x=D("el-tab-pane"),ee=D("el-tabs");return i(),f(ee,{class:"demo-tabs",modelValue:$.value,"onUpdate:modelValue":a[25]||(a[25]=n=>$.value=n),type:"card",onTabClick:s.handleClick},{default:o(()=>[e(x,{label:"Основной",name:"main"},{default:o(()=>[e(l,{label:"Множественный выбор:"},{default:o(()=>[e(r,{modelValue:t.componentData.multiple,"onUpdate:modelValue":a[0]||(a[0]=n=>t.componentData.multiple=n)},null,8,["modelValue"])]),_:1}),e(l,{label:"Перемешивать ответы?"},{default:o(()=>[e(r,{modelValue:t.componentData.doShuffle,"onUpdate:modelValue":a[1]||(a[1]=n=>t.componentData.doShuffle=n)},null,8,["modelValue"])]),_:1}),e(l,{label:"Вид кнопок:"},{default:o(()=>[e(Z,{modelValue:t.componentData.answersButtonType,"onUpdate:modelValue":a[2]||(a[2]=n=>t.componentData.answersButtonType=n),placeholder:"please select"},{default:o(()=>[e(d,{label:"Чекбоксы",value:"checkboxes"}),e(d,{label:"Кнопки",value:"buttons"}),e(d,{label:"Картинки+чекбоксы",value:"imageCheckboxes"}),e(d,{label:"Картинки+кнопки",value:"imageHoverButtons"})]),_:1},8,["modelValue"])]),_:1}),e(y),e(l,{label:"Подсказки:"},{default:o(()=>[e(r,{modelValue:t.componentData.hints,"onUpdate:modelValue":a[3]||(a[3]=n=>t.componentData.hints=n)},null,8,["modelValue"])]),_:1}),t.componentData.hints?(i(),b("div",fe,[e(l,{label:"Количество попыток:"},{default:o(()=>[e(C,{modelValue:t.componentData.totalHints,"onUpdate:modelValue":a[4]||(a[4]=n=>t.componentData.totalHints=n)},null,8,["modelValue"])]),_:1}),e(l,{label:"Текст в окне подсказки:"},{default:o(()=>[e(C,{modelValue:t.componentData.modalHintDescription,"onUpdate:modelValue":a[5]||(a[5]=n=>t.componentData.modalHintDescription=n)},null,8,["modelValue"])]),_:1}),O.value||m.componentData.showLegend!=null&&m.componentData!=null?(i(),b("div",De,[e(l,{label:"Показывать легенду альтернативных ответов:"},{default:o(()=>[e(r,{modelValue:m.componentData.showLegend,"onUpdate:modelValue":a[6]||(a[6]=n=>m.componentData.showLegend=n)},null,8,["modelValue"])]),_:1}),m.componentData.showLegend?(i(),b("div",we,[e(l,{label:"Текст легенды альтернативных ответов:"},{default:o(()=>[e(C,{modelValue:m.componentData.legendText,"onUpdate:modelValue":a[7]||(a[7]=n=>m.componentData.legendText=n)},null,8,["modelValue"])]),_:1}),e(l,{label:"Текст легенды альтернативных ответов цветной:"},{default:o(()=>[e(C,{modelValue:m.componentData.legendColoredText,"onUpdate:modelValue":a[8]||(a[8]=n=>m.componentData.legendColoredText=n)},null,8,["modelValue"])]),_:1}),e(l,{label:"Цвет:"},{default:o(()=>[e(ce,{modelValue:m.componentData.legendTextColor,"onUpdate:modelValue":a[9]||(a[9]=n=>m.componentData.legendTextColor=n)},null,8,["modelValue"])]),_:1})])):c("",!0)])):c("",!0),e(R,{parameters:t.componentData.hintWarning},null,8,["parameters"])])):c("",!0),e(y),e(l,{label:"Предупреждения:"},{default:o(()=>[e(r,{modelValue:t.componentData.warnings,"onUpdate:modelValue":a[10]||(a[10]=n=>t.componentData.warnings=n)},null,8,["modelValue"])]),_:1}),t.componentData.warnings?(i(),b("div",Ve,[e(l,{class:"form-item-bold",label:"Все верные:"}),e(R,{parameters:t.componentData.allCorrect},null,8,["parameters"]),e(l,{class:"form-item-bold",label:"Все неверные/часть неверных:"}),e(R,{parameters:t.componentData.allInorrectPartlyIncorrect},null,8,["parameters"])])):c("",!0),e(y),e(l,{label:"Стили:"},{default:o(()=>[e(l,{label:"Кол-во колонок:"},{default:o(()=>[e(S,{modelValue:t.componentData.columns,"onUpdate:modelValue":a[11]||(a[11]=n=>t.componentData.columns=n),min:1,max:10},null,8,["modelValue"])]),_:1})]),_:1}),e(y),e(l,{label:"Содержание вопроса:"}),e(v,null,{default:o(()=>[e(u,{span:1}),e(u,{class:"question_text_col",span:12},{default:o(()=>[e(C,{modelValue:t.blockData.question_text,"onUpdate:modelValue":a[12]||(a[12]=n=>t.blockData.question_text=n)},null,8,["modelValue"])]),_:1})]),_:1}),e(v,null,{default:o(()=>[e(u,{span:1}),e(u,{span:12},{default:o(()=>[e(L,null,{default:o(()=>[_("Текст ответа")]),_:1})]),_:1}),e(u,{span:1},{default:o(()=>[e(L,null,{default:o(()=>[_("Правильный")]),_:1})]),_:1}),e(u,{span:1},{default:o(()=>[e(L,null,{default:o(()=>[_("Альт. прав.")]),_:1})]),_:1}),m.componentData.multiple?(i(),f(u,{key:0,span:2},{default:o(()=>[e(L,null,{default:o(()=>[_("Прав. необ.")]),_:1})]),_:1})):c("",!0),e(u,{span:2})]),_:1}),(i(!0),b(ne,null,ae(m.componentData.answersList,(n,w)=>(i(),f(v,{key:n.id,gutter:20},{default:o(()=>[e(u,{span:1},{default:o(()=>[e(L,null,{default:o(()=>[_(oe(w+1),1)]),_:2},1024)]),_:2},1024),e(u,{span:12},{default:o(()=>[e(C,{modelValue:n.answerText,"onUpdate:modelValue":p=>n.answerText=p},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:1},{default:o(()=>[e(T,{modelValue:n.isRight,"onUpdate:modelValue":p=>n.isRight=p,size:"large"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),n.isRightAlt!=null?(i(),f(u,{key:0,span:1},{default:o(()=>[e(T,{modelValue:n.isRightAlt,"onUpdate:modelValue":p=>n.isRightAlt=p,size:"large"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):c("",!0),m.componentData.multiple?(i(),f(u,{key:1,span:2},{default:o(()=>[e(T,{modelValue:n.notRequired,"onUpdate:modelValue":p=>n.notRequired=p,size:"large"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):c("",!0),e(u,{span:4},{default:o(()=>[e(V,{type:"warning",icon:g(le),circle:"",onClick:p=>G(w)},null,8,["icon","onClick"]),e(V,{type:"warning",icon:g(se),circle:"",onClick:p=>J(w)},null,8,["icon","onClick"]),e(V,{type:"danger",icon:g(me),circle:"",onClick:p=>j(w)},null,8,["icon","onClick"])]),_:2},1024),e(u,{span:m.componentData.multiple?3:5},{default:o(()=>[k.value[w]?c("",!0):(i(),f(V,{key:0,type:"primary",icon:g(W),plain:"",onClick:p=>B(w)},null,8,["icon","onClick"])),k.value[w]?(i(),f(V,{key:1,type:"primary",icon:g(z),plain:"",onClick:p=>B(w)},null,8,["icon","onClick"])):c("",!0),A.value[w]?c("",!0):(i(),f(V,{key:2,type:"primary",icon:g(W),plain:"",onClick:p=>h(w)},null,8,["icon","onClick"])),A.value[w]?(i(),f(V,{key:3,type:"primary",icon:g(z),plain:"",onClick:p=>h(w)},null,8,["icon","onClick"])):c("",!0)]),_:2},1032,["span"]),e(u,{span:m.componentData.multiple?3:5},null,8,["span"]),e(u,{span:1}),e(u,{span:21},{default:o(()=>[k.value[w]?(i(),b("div",ge,[e(N,{modelValue:n.answerText,"onUpdate:modelValue":p=>n.answerText=p},null,8,["modelValue","onUpdate:modelValue"]),ie("div",Ce,[e(re,{action:n.action},null,8,["action"])])])):c("",!0)]),_:2},1024),m.componentData.answersButtonType==="imageCheckboxes"&&n.image!=null?(i(),f(v,{key:2},{default:o(()=>[e(P,{image:n.image,hideLabel:!0},null,8,["image"])]),_:2},1024)):c("",!0),m.componentData.answersButtonType==="imageHoverButtons"&&n.image!=null?(i(),f(v,{key:3},{default:o(()=>[e(P,{image:n.image,hideLabel:!0},null,8,["image"])]),_:2},1024)):c("",!0)]),_:2},1024))),128)),e(y),e(v,null,{default:o(()=>[e(u,{span:6},{default:o(()=>[e(V,{onClick:X,type:"success",round:""},{default:o(()=>[_("+ Добавить поле ")]),_:1})]),_:1})]),_:1}),m.componentData.answersList?(i(),f(F,{key:2,answerCollectionsData:m.componentData.answerCollections,answersList:m.componentData.answersList,onAddCollectionToList:a[13]||(a[13]=n=>H(n)),onDeleteCollection:a[14]||(a[14]=n=>M(n)),onMoveUpCollection:a[15]||(a[15]=n=>q(n)),onMoveDownCollection:a[16]||(a[16]=n=>E(n))},null,8,["answerCollectionsData","answersList"])):c("",!0)]),_:1}),e(x,{label:"Стили",name:"style"},{default:o(()=>[e(l,{label:"Стили:"},{default:o(()=>[e(l,{label:"Кол-во колонок:"}),e(S,{modelValue:t.componentData.columns,"onUpdate:modelValue":a[17]||(a[17]=n=>t.componentData.columns=n),min:1,max:10},null,8,["modelValue"])]),_:1})]),_:1}),e(x,{label:"С картинкой",name:"withImage"},{default:o(()=>[e(l,{label:"Ответы с картинками?"},{default:o(()=>[e(r,{modelValue:t.componentData.isAnswersWithImage,"onUpdate:modelValue":a[18]||(a[18]=n=>t.componentData.isAnswersWithImage=n),style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue"])]),_:1}),t.componentData.isAnswersWithImage?(i(),f(l,{key:0,label:"Текст:"},{default:o(()=>[e(u,{span:22},{default:o(()=>[e(C,{modelValue:t.componentData.textData.text,"onUpdate:modelValue":a[19]||(a[19]=n=>t.componentData.textData.text=n),width:"30vw"},null,8,["modelValue"])]),_:1}),e(u,{span:2},{default:o(()=>[e(V,{type:"primary",icon:g(ue),plain:"",onClick:Q},null,8,["icon"])]),_:1}),e(u,{span:22},{default:o(()=>[I.value?(i(),b("div",be,[e(N,{modelValue:t.componentData.textData.text,"onUpdate:modelValue":a[20]||(a[20]=n=>t.componentData.textData.text=n)},null,8,["modelValue"])])):c("",!0)]),_:1})]),_:1})):c("",!0),e(l,{label:"Картинки:"},{default:o(()=>[t.componentData.imagesData!=null?(i(),f(de,{key:0,componentData:t.componentData.imagesData},null,8,["componentData"])):c("",!0)]),_:1})]),_:1}),t.componentData?(i(),f(x,{key:0,label:"На картинке",name:"onImage",lazy:""},{default:o(()=>[e(pe,{componentData:t.componentData},null,8,["componentData"]),m.componentData.answersList?(i(),f(F,{key:0,answerCollectionsData:m.componentData.answerCollections,answersList:m.componentData.answersList,onAddCollectionToList:a[21]||(a[21]=n=>H(n)),onDeleteCollection:a[22]||(a[22]=n=>M(n)),onMoveUpCollection:a[23]||(a[23]=n=>q(n)),onMoveDownCollection:a[24]||(a[24]=n=>E(n))},null,8,["answerCollectionsData","answersList"])):c("",!0)]),_:1})):c("",!0)]),_:1},8,["modelValue","onTabClick"])}}};export{Ie as default};
