import k from"./WarningParameters-5894d6e4.js";import Y from"./WarningCombination-9641d72b.js";import{r as U,q as Z,a as r,o as u,f as p,w as n,b as e,c as V,x as d,F as B,e as H,d as g,y as W,k as y,z as ee,A as te,B as ae,C as ne,D as le,v as q,g as oe,G as se,l as me}from"./index-93aba21e.js";import ue from"./ContentImages-ab048073.js";import ie from"./ColorItem-4730e3b6.js";import de from"./ActionItem-726bd842.js";import ce from"./AnswerCollections-41186b54.js";const re={key:0},pe={key:1},fe={key:0},De={key:1},Ve={key:0,class:"answer_editor"},_e={class:"action_edit"},we={key:0},Ue={__name:"ContentAnswers",props:["componentData"],setup(i){const t=i;console.log(t.componentData.imagesData.imagesList.imageURL);const M=U(!1),h=U("main"),b=U(t.componentData.answersList.map(s=>!1)),x=U(!1),R=s=>{b.value[s]=!b.value[s]},N=()=>{x.value=!x.value},E=s=>{b.value.splice(s,1),t.componentData.answersList.splice(s,1)},O=s=>{if(s===0)return;const l=t.componentData.answersList[s];t.componentData.answersList[s]=t.componentData.answersList[s-1],t.componentData.answersList[s-1]=l},z=s=>{if(s===t.componentData.answersList.length-1)return;const l=t.componentData.answersList[s];t.componentData.answersList[s]=t.componentData.answersList[s+1],t.componentData.answersList[s+1]=l},P=s=>{let l=t.componentData.combinationOfAnswers.findIndex(f=>f.name===s);t.componentData.combinationOfAnswers.splice(l,1)},S=()=>{b.value.push(!1),t.componentData.combinationOfAnswers.push({name:"",isCorrect:!0,combinationWarning:{text:"",color:"",image:"",showTime:0,buttons:[{buttonName:"Закрыть",action:{name:"closeModalWarning"}}]}})},F=()=>{if(t.componentData.answersList.length===0)return 0;let s=!1;for(let o=0;o<t.componentData.answersList.length;o++)if(!t.componentData.answersList[o].id){s=!0;break}if(s){for(let o=0;o<t.componentData.answersList.length;o++)t.componentData.answersList[o].id=o+1;return t.componentData.answersList.length}const l=t.componentData.answersList.map(o=>o.id);return Math.max(...l)},G=()=>{t.componentData.answersList.push({id:F()+1,answerText:"",isRight:!1,notRequired:!1,image:{imageURL:"",label:""},action:{doAction:!1,clickAction:!1,name:"moveToStep",internalId:0,checkQuestion:!1,trackRepeatAnswer:!1},isRightAlt:!1})},Q=()=>{t.componentData.imagesData==null&&(t.componentData.isAnswersWithImage=!1,t.componentData.isAnswersOnImage=!1,t.componentData.imagesData={imagesWidthPercent:100,imagesList:[{imageURL:"",label:""}]}),t.componentData.textData==null&&(t.componentData.textData={text:""})};Z(()=>{Q()});const j=s=>{t.componentData.answerCollections===void 0&&(t.componentData.answerCollections=[]),t.componentData.answerCollections.push(s)},J=s=>{const l=t.componentData.answerCollections.findIndex(f=>f.id===s);if(l===-1){log("Коллекция с таким id не найдена");return}t.componentData.answerCollections.splice(l,1)};return(s,l)=>{const f=r("el-switch"),o=r("el-form-item"),A=r("el-option"),K=r("el-select"),v=r("el-divider"),_=r("el-input"),w=r("el-button"),$=r("el-input-number"),m=r("el-col"),L=r("el-row"),C=r("el-text"),T=r("el-checkbox"),I=r("el-tab-pane"),X=r("el-tabs");return u(),p(X,{class:"demo-tabs",modelValue:h.value,"onUpdate:modelValue":l[20]||(l[20]=a=>h.value=a),type:"card",onTabClick:s.handleClick},{default:n(()=>[e(I,{label:"Основной",name:"main"},{default:n(()=>[e(o,{label:"Множественный выбор:"},{default:n(()=>[e(f,{modelValue:t.componentData.multiple,"onUpdate:modelValue":l[0]||(l[0]=a=>t.componentData.multiple=a)},null,8,["modelValue"])]),_:1}),e(o,{label:"Вид кнопок:"},{default:n(()=>[e(K,{modelValue:t.componentData.answersButtonType,"onUpdate:modelValue":l[1]||(l[1]=a=>t.componentData.answersButtonType=a),placeholder:"please select"},{default:n(()=>[e(A,{label:"Чекбоксы",value:"checkboxes"}),e(A,{label:"Кнопки",value:"buttons"}),e(A,{label:"Картинки+чекбоксы",value:"imageCheckboxes"})]),_:1},8,["modelValue"])]),_:1}),e(v),e(o,{label:"Подсказки:"},{default:n(()=>[e(f,{modelValue:t.componentData.hints,"onUpdate:modelValue":l[2]||(l[2]=a=>t.componentData.hints=a)},null,8,["modelValue"])]),_:1}),t.componentData.hints?(u(),V("div",re,[e(o,{label:"Количество попыток:"},{default:n(()=>[e(_,{modelValue:t.componentData.totalHints,"onUpdate:modelValue":l[3]||(l[3]=a=>t.componentData.totalHints=a)},null,8,["modelValue"])]),_:1}),e(o,{label:"Анонс подсказки:"},{default:n(()=>[e(_,{modelValue:t.componentData.hintText,"onUpdate:modelValue":l[4]||(l[4]=a=>t.componentData.hintText=a)},null,8,["modelValue"])]),_:1}),e(o,{label:"Открыть модальную подсказку:"},{default:n(()=>[e(f,{modelValue:t.componentData.useModalHint,"onUpdate:modelValue":l[5]||(l[5]=a=>t.componentData.useModalHint=a)},null,8,["modelValue"])]),_:1}),t.componentData.useModalHint&&t.componentData.modalHintDescription!==void 0?(u(),p(o,{key:0,label:"Текст дополнительного описания:"},{default:n(()=>[e(_,{modelValue:t.componentData.modalHintDescription,"onUpdate:modelValue":l[6]||(l[6]=a=>t.componentData.modalHintDescription=a)},null,8,["modelValue"])]),_:1})):d("",!0),M.value||i.componentData.showLegend!=null&&i.componentData!=null?(u(),V("div",pe,[e(o,{label:"Показывать легенду альтернативных ответов:"},{default:n(()=>[e(f,{modelValue:i.componentData.showLegend,"onUpdate:modelValue":l[7]||(l[7]=a=>i.componentData.showLegend=a)},null,8,["modelValue"])]),_:1}),i.componentData.showLegend?(u(),V("div",fe,[e(o,{label:"Текст легенды альтернативных ответов:"},{default:n(()=>[e(_,{modelValue:i.componentData.legendText,"onUpdate:modelValue":l[8]||(l[8]=a=>i.componentData.legendText=a)},null,8,["modelValue"])]),_:1}),e(o,{label:"Текст легенды альтернативных ответов цветной:"},{default:n(()=>[e(_,{modelValue:i.componentData.legendColoredText,"onUpdate:modelValue":l[9]||(l[9]=a=>i.componentData.legendColoredText=a)},null,8,["modelValue"])]),_:1}),e(o,{label:"Цвет:"},{default:n(()=>[e(ie,{modelValue:i.componentData.legendTextColor,"onUpdate:modelValue":l[10]||(l[10]=a=>i.componentData.legendTextColor=a)},null,8,["modelValue"])]),_:1})])):d("",!0)])):d("",!0),e(k,{parameters:t.componentData.hintWarning},null,8,["parameters"])])):d("",!0),e(v),e(o,{label:"Предупреждения:"},{default:n(()=>[e(f,{modelValue:t.componentData.warnings,"onUpdate:modelValue":l[11]||(l[11]=a=>t.componentData.warnings=a)},null,8,["modelValue"])]),_:1}),t.componentData.warnings?(u(),V("div",De,[e(o,{label:"Все верные:"}),e(k,{parameters:t.componentData.allCorrect},null,8,["parameters"]),e(o,{label:"Все неверные/часть неверных:"}),e(k,{parameters:t.componentData.allInorrectPartlyIncorrect},null,8,["parameters"]),e(o,{label:"Часть верных:"}),e(k,{parameters:t.componentData.partlyCorrect},null,8,["parameters"]),e(o,{label:"Часть верных + неверные:"}),e(k,{parameters:t.componentData.partlyCorrectpartlyIncorrect},null,8,["parameters"]),e(o,{label:"Все верные + неверные:"}),e(k,{parameters:t.componentData.allCorrectPartlyIncorrect},null,8,["parameters"]),e(o,{label:"Комбинации:"}),(u(!0),V(B,null,H(t.componentData.combinationOfAnswers,a=>(u(),V("div",null,[e(Y,{parameters:a,onDeleteCombination:P},null,8,["parameters","onDeleteCombination"])]))),256)),e(w,{type:"success",round:"",onClick:S},{default:n(()=>[g("+ Добавить комбинацию")]),_:1})])):d("",!0),e(v),e(o,{label:"Стили:"},{default:n(()=>[e(o,{label:"Кол-во колонок:"},{default:n(()=>[e($,{modelValue:t.componentData.columns,"onUpdate:modelValue":l[12]||(l[12]=a=>t.componentData.columns=a),min:1,max:10},null,8,["modelValue"])]),_:1})]),_:1}),e(v),e(o,{label:"Содержание вопроса:"}),e(L,null,{default:n(()=>[e(m,{span:1}),e(m,{class:"question_text_col",span:12},{default:n(()=>[e(_,{modelValue:t.componentData.questionText,"onUpdate:modelValue":l[13]||(l[13]=a=>t.componentData.questionText=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(L,null,{default:n(()=>[e(m,{span:1}),e(m,{span:12},{default:n(()=>[e(C,null,{default:n(()=>[g("Текст ответа")]),_:1})]),_:1}),e(m,{span:1},{default:n(()=>[e(C,null,{default:n(()=>[g("Правильный")]),_:1})]),_:1}),e(m,{span:1},{default:n(()=>[e(C,null,{default:n(()=>[g("Альт. прав.")]),_:1})]),_:1}),i.componentData.multiple?(u(),p(m,{key:0,span:2},{default:n(()=>[e(C,null,{default:n(()=>[g("Прав. необ.")]),_:1})]),_:1})):d("",!0),e(m,{span:2})]),_:1}),(u(!0),V(B,null,H(i.componentData.answersList,(a,D)=>(u(),p(L,{key:a.id,gutter:20},{default:n(()=>[e(m,{span:1},{default:n(()=>[e(C,null,{default:n(()=>[g(W(D+1),1)]),_:2},1024)]),_:2},1024),e(m,{span:1},{default:n(()=>[e(C,null,{default:n(()=>[g(W(a.id),1)]),_:2},1024)]),_:2},1024),e(m,{span:11},{default:n(()=>[e(_,{modelValue:a.answerText,"onUpdate:modelValue":c=>a.answerText=c},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(m,{span:1},{default:n(()=>[e(T,{modelValue:a.isRight,"onUpdate:modelValue":c=>a.isRight=c,size:"large"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a.isRightAlt!=null?(u(),p(m,{key:0,span:1},{default:n(()=>[e(T,{modelValue:a.isRightAlt,"onUpdate:modelValue":c=>a.isRightAlt=c,size:"large"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):d("",!0),i.componentData.multiple?(u(),p(m,{key:1,span:2},{default:n(()=>[e(T,{modelValue:a.notRequired,"onUpdate:modelValue":c=>a.notRequired=c,size:"large"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):d("",!0),e(m,{span:4},{default:n(()=>[e(w,{type:"warning",icon:y(ee),circle:"",onClick:c=>O(D)},null,8,["icon","onClick"]),e(w,{type:"warning",icon:y(te),circle:"",onClick:c=>z(D)},null,8,["icon","onClick"]),e(w,{type:"danger",icon:y(ae),circle:"",onClick:c=>E(D)},null,8,["icon","onClick"])]),_:2},1024),e(m,{span:i.componentData.multiple?3:5},{default:n(()=>[b.value[D]?d("",!0):(u(),p(w,{key:0,type:"primary",icon:y(ne),plain:"",onClick:c=>R(D)},null,8,["icon","onClick"])),b.value[D]?(u(),p(w,{key:1,type:"primary",icon:y(le),plain:"",onClick:c=>R(D)},null,8,["icon","onClick"])):d("",!0)]),_:2},1032,["span"]),e(m,{span:1}),e(m,{span:21},{default:n(()=>[b.value[D]?(u(),V("div",Ve,[e(q,{modelValue:a.answerText,"onUpdate:modelValue":c=>a.answerText=c},null,8,["modelValue","onUpdate:modelValue"]),oe("div",_e,[e(de,{action:a.action},null,8,["action"])])])):d("",!0)]),_:2},1024),i.componentData.answersButtonType==="imageCheckboxes"&&a.image!=null?(u(),p(L,{key:2},{default:n(()=>[e(se,{image:a.image,hideLabel:!0},null,8,["image"])]),_:2},1024)):d("",!0)]),_:2},1024))),128)),e(v),e(L,null,{default:n(()=>[e(m,{span:6},{default:n(()=>[e(w,{onClick:G,type:"success",round:""},{default:n(()=>[g("+ Добавить поле ")]),_:1})]),_:1})]),_:1}),i.componentData.answersList?(u(),p(ce,{key:2,answerCollectionsData:i.componentData.answerCollections,answersList:i.componentData.answersList,onAddCollectionToList:l[14]||(l[14]=a=>j(a)),onDeleteCollection:l[15]||(l[15]=a=>J(a))},null,8,["answerCollectionsData","answersList"])):d("",!0)]),_:1}),e(I,{label:"Стили",name:"style"},{default:n(()=>[e(o,{label:"Стили:"},{default:n(()=>[e(o,{label:"Кол-во колонок:"}),e($,{modelValue:t.componentData.columns,"onUpdate:modelValue":l[16]||(l[16]=a=>t.componentData.columns=a),min:1,max:10},null,8,["modelValue"])]),_:1})]),_:1}),e(I,{label:"С картинкой",name:"withImage"},{default:n(()=>[e(o,{label:"Ответы с картинками?"},{default:n(()=>[e(f,{modelValue:t.componentData.isAnswersWithImage,"onUpdate:modelValue":l[17]||(l[17]=a=>t.componentData.isAnswersWithImage=a),style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue"])]),_:1}),t.componentData.isAnswersWithImage?(u(),p(o,{key:0,label:"Текст:"},{default:n(()=>[e(m,{span:22},{default:n(()=>[e(_,{modelValue:t.componentData.textData.text,"onUpdate:modelValue":l[18]||(l[18]=a=>t.componentData.textData.text=a),width:"30vw"},null,8,["modelValue"])]),_:1}),e(m,{span:2},{default:n(()=>[e(w,{type:"primary",icon:y(me),plain:"",onClick:N},null,8,["icon"])]),_:1}),e(m,{span:22},{default:n(()=>[x.value?(u(),V("div",we,[e(q,{modelValue:t.componentData.textData.text,"onUpdate:modelValue":l[19]||(l[19]=a=>t.componentData.textData.text=a)},null,8,["modelValue"])])):d("",!0)]),_:1})]),_:1})):d("",!0),e(o,{label:"Картинки:"},{default:n(()=>[t.componentData.imagesData!=null?(u(),p(ue,{key:0,componentData:t.componentData.imagesData},null,8,["componentData"])):d("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","onTabClick"])}}};export{Ue as default};
