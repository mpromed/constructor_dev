import k from"./WarningParameters-478bbabb.js";import Y from"./WarningCombination-cef87b24.js";import{r as x,q as Z,a as c,o as u,f as p,w as o,b as e,c as V,v as d,F as B,e as H,d as b,x as M,k as y,y as ee,z as te,A as ae,B as ne,C as oe,T as W,g as le,D as se,l as me}from"./index-390646fc.js";import ue from"./ContentImages-0b0bf88b.js";import ie from"./ColorItem-baefa09f.js";import de from"./ActionItem-95985def.js";import re from"./AnswerCollections-63af905b.js";import ce from"./AnswersOnImage-2c74c939.js";const pe={key:0},fe={key:1},De={key:0},Ve={key:1},we={key:0,class:"answer_editor"},_e={class:"action_edit"},be={key:0},Ae={__name:"ContentAnswers",props:["componentData"],setup(i){const t=i;console.log(t.componentData);const q=x(!1),h=x("main"),g=x(t.componentData.answersList.map(s=>!1)),A=x(!1),R=s=>{g.value[s]=!g.value[s]},E=()=>{A.value=!A.value},N=s=>{g.value.splice(s,1),t.componentData.answersList.splice(s,1)},O=s=>{if(s===0)return;const n=t.componentData.answersList[s];t.componentData.answersList[s]=t.componentData.answersList[s-1],t.componentData.answersList[s-1]=n},z=s=>{if(s===t.componentData.answersList.length-1)return;const n=t.componentData.answersList[s];t.componentData.answersList[s]=t.componentData.answersList[s+1],t.componentData.answersList[s+1]=n},P=s=>{let n=t.componentData.combinationOfAnswers.findIndex(f=>f.name===s);t.componentData.combinationOfAnswers.splice(n,1)},S=()=>{g.value.push(!1),t.componentData.combinationOfAnswers.push({name:"",isCorrect:!0,combinationWarning:{text:"",color:"",image:"",showTime:0,buttons:[{buttonName:"Закрыть",action:{name:"closeModalWarning"}}]}})},F=()=>{if(t.componentData.answersList.length===0)return 0;let s=!1;for(let l=0;l<t.componentData.answersList.length;l++)if(!t.componentData.answersList[l].id){s=!0;break}if(s){for(let l=0;l<t.componentData.answersList.length;l++)t.componentData.answersList[l].id=l+1;return t.componentData.answersList.length}const n=t.componentData.answersList.map(l=>l.id);return Math.max(...n)},Q=()=>{t.componentData.answersList.push({id:F()+1,answerText:"",isRight:!1,notRequired:!1,image:{imageURL:"",label:""},action:{doAction:!1,clickAction:!1,name:"moveToStep",internalId:0,checkQuestion:!1,trackRepeatAnswer:!1},isRightAlt:!1})},j=()=>{t.componentData.imagesData==null&&(t.componentData.isAnswersWithImage=!1,t.componentData.isAnswersOnImage=!1,t.componentData.imagesData={imagesWidthPercent:100,imagesList:[{imageURL:"",label:""}]}),t.componentData.textData==null&&(t.componentData.textData={text:""}),t.componentData.markers==null&&(t.componentData.markers=[])};Z(()=>{j()});const G=s=>{t.componentData.answerCollections===void 0&&(t.componentData.answerCollections=[]),t.componentData.answerCollections.push(s)},J=s=>{const n=t.componentData.answerCollections.findIndex(f=>f.id===s);if(n===-1){log("Коллекция с таким id не найдена");return}t.componentData.answerCollections.splice(n,1)};return(s,n)=>{const f=c("el-switch"),l=c("el-form-item"),T=c("el-option"),K=c("el-select"),v=c("el-divider"),w=c("el-input"),_=c("el-button"),$=c("el-input-number"),m=c("el-col"),L=c("el-row"),C=c("el-text"),I=c("el-checkbox"),U=c("el-tab-pane"),X=c("el-tabs");return u(),p(X,{class:"demo-tabs",modelValue:h.value,"onUpdate:modelValue":n[22]||(n[22]=a=>h.value=a),type:"card",onTabClick:s.handleClick},{default:o(()=>[e(U,{label:"Основной",name:"main"},{default:o(()=>[e(l,{label:"Множественный выбор:"},{default:o(()=>[e(f,{modelValue:t.componentData.multiple,"onUpdate:modelValue":n[0]||(n[0]=a=>t.componentData.multiple=a)},null,8,["modelValue"])]),_:1}),e(l,{label:"Вид кнопок:"},{default:o(()=>[e(K,{modelValue:t.componentData.answersButtonType,"onUpdate:modelValue":n[1]||(n[1]=a=>t.componentData.answersButtonType=a),placeholder:"please select"},{default:o(()=>[e(T,{label:"Чекбоксы",value:"checkboxes"}),e(T,{label:"Кнопки",value:"buttons"}),e(T,{label:"Картинки+чекбоксы",value:"imageCheckboxes"})]),_:1},8,["modelValue"])]),_:1}),e(v),e(l,{label:"Подсказки:"},{default:o(()=>[e(f,{modelValue:t.componentData.hints,"onUpdate:modelValue":n[2]||(n[2]=a=>t.componentData.hints=a)},null,8,["modelValue"])]),_:1}),t.componentData.hints?(u(),V("div",pe,[e(l,{label:"Количество попыток:"},{default:o(()=>[e(w,{modelValue:t.componentData.totalHints,"onUpdate:modelValue":n[3]||(n[3]=a=>t.componentData.totalHints=a)},null,8,["modelValue"])]),_:1}),e(l,{label:"Анонс подсказки:"},{default:o(()=>[e(w,{modelValue:t.componentData.hintText,"onUpdate:modelValue":n[4]||(n[4]=a=>t.componentData.hintText=a)},null,8,["modelValue"])]),_:1}),e(l,{label:"Открыть модальную подсказку:"},{default:o(()=>[e(f,{modelValue:t.componentData.useModalHint,"onUpdate:modelValue":n[5]||(n[5]=a=>t.componentData.useModalHint=a)},null,8,["modelValue"])]),_:1}),t.componentData.useModalHint&&t.componentData.modalHintDescription!==void 0?(u(),p(l,{key:0,label:"Текст дополнительного описания:"},{default:o(()=>[e(w,{modelValue:t.componentData.modalHintDescription,"onUpdate:modelValue":n[6]||(n[6]=a=>t.componentData.modalHintDescription=a)},null,8,["modelValue"])]),_:1})):d("",!0),q.value||i.componentData.showLegend!=null&&i.componentData!=null?(u(),V("div",fe,[e(l,{label:"Показывать легенду альтернативных ответов:"},{default:o(()=>[e(f,{modelValue:i.componentData.showLegend,"onUpdate:modelValue":n[7]||(n[7]=a=>i.componentData.showLegend=a)},null,8,["modelValue"])]),_:1}),i.componentData.showLegend?(u(),V("div",De,[e(l,{label:"Текст легенды альтернативных ответов:"},{default:o(()=>[e(w,{modelValue:i.componentData.legendText,"onUpdate:modelValue":n[8]||(n[8]=a=>i.componentData.legendText=a)},null,8,["modelValue"])]),_:1}),e(l,{label:"Текст легенды альтернативных ответов цветной:"},{default:o(()=>[e(w,{modelValue:i.componentData.legendColoredText,"onUpdate:modelValue":n[9]||(n[9]=a=>i.componentData.legendColoredText=a)},null,8,["modelValue"])]),_:1}),e(l,{label:"Цвет:"},{default:o(()=>[e(ie,{modelValue:i.componentData.legendTextColor,"onUpdate:modelValue":n[10]||(n[10]=a=>i.componentData.legendTextColor=a)},null,8,["modelValue"])]),_:1})])):d("",!0)])):d("",!0),e(k,{parameters:t.componentData.hintWarning},null,8,["parameters"])])):d("",!0),e(v),e(l,{label:"Предупреждения:"},{default:o(()=>[e(f,{modelValue:t.componentData.warnings,"onUpdate:modelValue":n[11]||(n[11]=a=>t.componentData.warnings=a)},null,8,["modelValue"])]),_:1}),t.componentData.warnings?(u(),V("div",Ve,[e(l,{label:"Все верные:"}),e(k,{parameters:t.componentData.allCorrect},null,8,["parameters"]),e(l,{label:"Все неверные/часть неверных:"}),e(k,{parameters:t.componentData.allInorrectPartlyIncorrect},null,8,["parameters"]),e(l,{label:"Часть верных:"}),e(k,{parameters:t.componentData.partlyCorrect},null,8,["parameters"]),e(l,{label:"Часть верных + неверные:"}),e(k,{parameters:t.componentData.partlyCorrectpartlyIncorrect},null,8,["parameters"]),e(l,{label:"Все верные + неверные:"}),e(k,{parameters:t.componentData.allCorrectPartlyIncorrect},null,8,["parameters"]),e(l,{label:"Комбинации:"}),(u(!0),V(B,null,H(t.componentData.combinationOfAnswers,a=>(u(),V("div",null,[e(Y,{parameters:a,onDeleteCombination:P},null,8,["parameters","onDeleteCombination"])]))),256)),e(_,{type:"success",round:"",onClick:S},{default:o(()=>[b("+ Добавить комбинацию")]),_:1})])):d("",!0),e(v),e(l,{label:"Стили:"},{default:o(()=>[e(l,{label:"Кол-во колонок:"},{default:o(()=>[e($,{modelValue:t.componentData.columns,"onUpdate:modelValue":n[12]||(n[12]=a=>t.componentData.columns=a),min:1,max:10},null,8,["modelValue"])]),_:1})]),_:1}),e(v),e(l,{label:"Содержание вопроса:"}),e(L,null,{default:o(()=>[e(m,{span:1}),e(m,{class:"question_text_col",span:12},{default:o(()=>[e(w,{modelValue:t.componentData.questionText,"onUpdate:modelValue":n[13]||(n[13]=a=>t.componentData.questionText=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(L,null,{default:o(()=>[e(m,{span:1}),e(m,{span:12},{default:o(()=>[e(C,null,{default:o(()=>[b("Текст ответа")]),_:1})]),_:1}),e(m,{span:1},{default:o(()=>[e(C,null,{default:o(()=>[b("Правильный")]),_:1})]),_:1}),e(m,{span:1},{default:o(()=>[e(C,null,{default:o(()=>[b("Альт. прав.")]),_:1})]),_:1}),i.componentData.multiple?(u(),p(m,{key:0,span:2},{default:o(()=>[e(C,null,{default:o(()=>[b("Прав. необ.")]),_:1})]),_:1})):d("",!0),e(m,{span:2})]),_:1}),(u(!0),V(B,null,H(i.componentData.answersList,(a,D)=>(u(),p(L,{key:a.id,gutter:20},{default:o(()=>[e(m,{span:1},{default:o(()=>[e(C,null,{default:o(()=>[b(M(D+1),1)]),_:2},1024)]),_:2},1024),e(m,{span:1},{default:o(()=>[e(C,null,{default:o(()=>[b(M(a.id),1)]),_:2},1024)]),_:2},1024),e(m,{span:11},{default:o(()=>[e(w,{modelValue:a.answerText,"onUpdate:modelValue":r=>a.answerText=r},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(m,{span:1},{default:o(()=>[e(I,{modelValue:a.isRight,"onUpdate:modelValue":r=>a.isRight=r,size:"large"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a.isRightAlt!=null?(u(),p(m,{key:0,span:1},{default:o(()=>[e(I,{modelValue:a.isRightAlt,"onUpdate:modelValue":r=>a.isRightAlt=r,size:"large"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):d("",!0),i.componentData.multiple?(u(),p(m,{key:1,span:2},{default:o(()=>[e(I,{modelValue:a.notRequired,"onUpdate:modelValue":r=>a.notRequired=r,size:"large"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):d("",!0),e(m,{span:4},{default:o(()=>[e(_,{type:"warning",icon:y(ee),circle:"",onClick:r=>O(D)},null,8,["icon","onClick"]),e(_,{type:"warning",icon:y(te),circle:"",onClick:r=>z(D)},null,8,["icon","onClick"]),e(_,{type:"danger",icon:y(ae),circle:"",onClick:r=>N(D)},null,8,["icon","onClick"])]),_:2},1024),e(m,{span:i.componentData.multiple?3:5},{default:o(()=>[g.value[D]?d("",!0):(u(),p(_,{key:0,type:"primary",icon:y(ne),plain:"",onClick:r=>R(D)},null,8,["icon","onClick"])),g.value[D]?(u(),p(_,{key:1,type:"primary",icon:y(oe),plain:"",onClick:r=>R(D)},null,8,["icon","onClick"])):d("",!0)]),_:2},1032,["span"]),e(m,{span:1}),e(m,{span:21},{default:o(()=>[g.value[D]?(u(),V("div",we,[e(W,{modelValue:a.answerText,"onUpdate:modelValue":r=>a.answerText=r},null,8,["modelValue","onUpdate:modelValue"]),le("div",_e,[e(de,{action:a.action},null,8,["action"])])])):d("",!0)]),_:2},1024),i.componentData.answersButtonType==="imageCheckboxes"&&a.image!=null?(u(),p(L,{key:2},{default:o(()=>[e(se,{image:a.image,hideLabel:!0},null,8,["image"])]),_:2},1024)):d("",!0)]),_:2},1024))),128)),e(v),e(L,null,{default:o(()=>[e(m,{span:6},{default:o(()=>[e(_,{onClick:Q,type:"success",round:""},{default:o(()=>[b("+ Добавить поле ")]),_:1})]),_:1})]),_:1}),i.componentData.answersList?(u(),p(re,{key:2,answerCollectionsData:i.componentData.answerCollections,answersList:i.componentData.answersList,onAddCollectionToList:n[14]||(n[14]=a=>G(a)),onDeleteCollection:n[15]||(n[15]=a=>J(a)),onMoveUpCollection:n[16]||(n[16]=a=>s.moveUpCollection(a)),onMoveDownCollection:n[17]||(n[17]=a=>s.moveDownCollection(a))},null,8,["answerCollectionsData","answersList"])):d("",!0)]),_:1}),e(U,{label:"Стили",name:"style"},{default:o(()=>[e(l,{label:"Стили:"},{default:o(()=>[e(l,{label:"Кол-во колонок:"}),e($,{modelValue:t.componentData.columns,"onUpdate:modelValue":n[18]||(n[18]=a=>t.componentData.columns=a),min:1,max:10},null,8,["modelValue"])]),_:1})]),_:1}),e(U,{label:"С картинкой",name:"withImage"},{default:o(()=>[e(l,{label:"Ответы с картинками?"},{default:o(()=>[e(f,{modelValue:t.componentData.isAnswersWithImage,"onUpdate:modelValue":n[19]||(n[19]=a=>t.componentData.isAnswersWithImage=a),style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue"])]),_:1}),t.componentData.isAnswersWithImage?(u(),p(l,{key:0,label:"Текст:"},{default:o(()=>[e(m,{span:22},{default:o(()=>[e(w,{modelValue:t.componentData.textData.text,"onUpdate:modelValue":n[20]||(n[20]=a=>t.componentData.textData.text=a),width:"30vw"},null,8,["modelValue"])]),_:1}),e(m,{span:2},{default:o(()=>[e(_,{type:"primary",icon:y(me),plain:"",onClick:E},null,8,["icon"])]),_:1}),e(m,{span:22},{default:o(()=>[A.value?(u(),V("div",be,[e(W,{modelValue:t.componentData.textData.text,"onUpdate:modelValue":n[21]||(n[21]=a=>t.componentData.textData.text=a)},null,8,["modelValue"])])):d("",!0)]),_:1})]),_:1})):d("",!0),e(l,{label:"Картинки:"},{default:o(()=>[t.componentData.imagesData!=null?(u(),p(ue,{key:0,componentData:t.componentData.imagesData},null,8,["componentData"])):d("",!0)]),_:1})]),_:1}),t.componentData?(u(),p(U,{key:0,label:"На картинке",name:"onImage",lazy:""},{default:o(()=>[e(ce,{componentData:t.componentData},null,8,["componentData"])]),_:1})):d("",!0)]),_:1},8,["modelValue","onTabClick"])}}};export{Ae as default};
